## Syntax

Compute sample size

`power trend`
[<var class="command">probspec</var><strong></strong>](power%20trend##probspec)
\[`, power(numlist) options`\]

Compute power

`power trend`
[<var class="command">probspec</var><strong></strong>](power%20trend##probspec)`,`
`n(numlist)` \[`options`\]

where `probspec` is either a matrix `matname` containing group
probabilities or a list of individual group probabilities:

`p1p2p3pJ`

`pj`, where `j` = 1, 2, ..., `J`, is the alternative group probability
of observing a success for subjects with the `j`th level of exposure.
Each `pj` may be specified either as one number or as a list of values
in parentheses (see
[<strong>numlist</strong>](http://www.stata.com/help.cgi?numlist)).

`matname` is the name of a Stata matrix with `J` columns containing
values of alternative group probabilities. Multiple rows are allowed, in
which case each row corresponds to a different set of `J` group
probabilities or, equivalently, column `j` corresponds to a `numlist`
for the `j`th group probabilities.

Alternative probabilities should be strictly monotonic: all increasing
or all decreasing.

| options                                                                                                                                                                                                                                                                                                                                                   |                                       | Description                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Main                                                                                                                                                                                                                                                                                                                                                      |                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| \*                                                                                                                                                                                                                                                                                                                                                        | `alpha(numlist)`                      | significance level; default is `alpha(0.05)`                                                                                                                                                                                                                                                                                                                                                                                      |
| \*                                                                                                                                                                                                                                                                                                                                                        | `power(numlist)`                      | power; default is `power(0.8)`                                                                                                                                                                                                                                                                                                                                                                                                    |
| \*                                                                                                                                                                                                                                                                                                                                                        | `beta(numlist)`                       | probability of type II error; default is `beta(0.2)`                                                                                                                                                                                                                                                                                                                                                                              |
| \*                                                                                                                                                                                                                                                                                                                                                        | `n(numlist)`                          | total sample size; required to compute power                                                                                                                                                                                                                                                                                                                                                                                      |
|                                                                                                                                                                                                                                                                                                                                                           | `nfractional`                         | allow fractional sample sizes                                                                                                                                                                                                                                                                                                                                                                                                     |
| \*                                                                                                                                                                                                                                                                                                                                                        | `npergroup(numlist)`                  | number of subjects per group; implies balanced design                                                                                                                                                                                                                                                                                                                                                                             |
| \*                                                                                                                                                                                                                                                                                                                                                        | `n#(numlist)`                 | number of subjects in group `#`                                                                                                                                                                                                                                                                                                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                           | `grweights(wgtspec)`              | group weights; default is one for each group, meaning equal group sizes                                                                                                                                                                                                                                                                                                                                                           |
|                                                                                                                                                                                                                                                                                                                                                           | `exposure(exposspec)`             | strictly increasing exposure levels; default is equally spaced values                                                                                                                                                                                                                                                                                                                                                             |
|                                                                                                                                                                                                                                                                                                                                                           | `continuity`                          | apply the continuity correction; default is no continuity correction                                                                                                                                                                                                                                                                                                                                                              |
|                                                                                                                                                                                                                                                                                                                                                           | `onesided`                            | one-sided test; default is two sided                                                                                                                                                                                                                                                                                                                                                                                              |
|                                                                                                                                                                                                                                                                                                                                                           | `parallel`                            | treat number lists in starred options or in command arguments as parallel when multiple values per option or argument are specified (do not enumerate all possible combinations of values) {syntab None:Table} {synopt None:\[}`no`\]`table`\[`(tablespec)`\]suppress table or display results as a table; see [<strong>[PSS]</strong> power, table](http://www.stata.com/help.cgi?power_opttable) |
|                                                                                                                                                                                                                                                                                                                                                           | `saving(filename`\[`, replace`\]`)` | save the table data to `filename`; use `replace` to overwrite existing `filename`                                                                                                                                                                                                                                                                                                                                                 |
| Graph                                                                                                                                                                                                                                                                                                                                                     |                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                           | `graph`\[`(graphopts)`\]          | graph results; see [<strong>[PSS]</strong> power, graph](http://www.stata.com/help.cgi?power_optgraph)                                                                                                                                                                                                                                                                                                 |
| Iteration                                                                                                                                                                                                                                                                                                                                                 |                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|                                                                                                                                                                                                                                                                                                                                                           | `init(#)`                             | initial value for sample size for a two-sided test; default is to use a sample-size estimate for a one-sided test                                                                                                                                                                                                                                                                                                                 |
|                                                                                                                                                                                                                                                                                                                                                           | `iterate(#)`                          | maximum number of iterations; default is `iterate(500)`                                                                                                                                                                                                                                                                                                                                                                           |
|                                                                                                                                                                                                                                                                                                                                                           | `tolerance(#)`                        | parameter tolerance; default is `tolerance(1e-12)`                                                                                                                                                                                                                                                                                                                                                                                |
|                                                                                                                                                                                                                                                                                                                                                           | `ftolerance(#)`                       | function tolerance; default is `ftolerance(1e-12)`                                                                                                                                                                                                                                                                                                                                                                                |
|                                                                                                                                                                                                                                                                                                                                                           | \[`no`\]`log`                         | suppress or display iteration log                                                                                                                                                                                                                                                                                                                                                                                                 |
|                                                                                                                                                                                                                                                                                                                                                           | \[`no`\]`dots`                        | suppress or display iterations as dots                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                                                                                                                                                                                                                                                                                                                           | `notitle`                             | suppress the title                                                                                                                                                                                                                                                                                                                                                                                                                |
| \* Specifying a list of values in at least two starred options, or at least two command arguments, or at least one starred option and one argument results in computations for all possible combinations of the values; see [<strong>numlist</strong>](http://www.stata.com/help.cgi?numlist). Also see the `parallel` option. |                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `notitle` does not appear in the dialog box.                                                                                                                                                                                                                                                                                                              |                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                   |

| wgtspec |                       | Description                                                                                                                                                                                                                         |
|---------|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         | `#1`, `#2`, ..., `#J` | `J` group weights. Weights must be positive and must be integers unless option `nfractional` is specified. Multiple values for each group weight `#j` can be specified as a `numlist` enclosed in parentheses.                      |
|         | `matname`             | matrix with `J` columns containing `J` group weights. Multiple rows are allowed, in which case each row corresponds to a different set of `J` weights or, equivalently, column `j` corresponds to a `numlist` for the `j`th weight. |

| exposspec |                       | Description                                                                                                                                                                                                                                           |
|-----------|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|           | `#1`, `#2`, ..., `#J` | `J` exposure levels. By default, equally spaced exposure levels of 1, 2, ..., `J` are used. Multiple values for each exposure level `#j` can be specified as a `numlist` enclosed in parentheses.                                                     |
|           | `matname`             | matrix with `J` columns containing `J` exposure levels. Multiple rows are allowed, in which case each row corresponds to a different set of `J` exposure levels or, equivalently, column `j` corresponds to a `numlist` for the `j`th exposure level. |

where `tablespec` is

`column`\[`:label`\] \[`column`\[`:label`\] \[...\]\] \[`,`
`tableopts`\]

`column` is one of the columns defined below, and `label` is a column
label (may contain quotes and compound quotes).

| column                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |               | Description                          |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|--------------------------------------|
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `alpha`       | significance level                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `power`       | power                                |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `beta`        | type II error probability            |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `N`           | total number of subjects             |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `N_per_group` | number of subjects per group         |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `N_avg`       | average number of subjects per group |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `N#`        | number of subjects in group `#`      |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `N_g`         | number of groups                     |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `p#`        | probability of outcome for group `#` |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `x#`        | exposure level `#`                   |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `grwgt#`    | group weight `#`                     |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `_all`        | display all supported columns        |
| Column `beta` is shown in the default table in place of column `power` if option `beta()` is specified.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |               |                                      |
| Column `N_per_group` is shown in the default table only for balanced designs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |               |                                      |
| Columns `N_avg` and `N#` are shown in the default table only for unbalanced designs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |               |                                      |
| Columns `x#` are shown only when exposure levels are specified using the `exposure()` option. <span options="menu">{marker menu}_{nobreak None} {title None:Menu} {phang None} **Statistics &gt; Power and sample size** <span options="description">{marker description}_{nobreak None} {title None:Description} {pstd None} `power trend` computes sample size or power for the Cochran-Armitage trend test, a test for a linear trend in a probability of response in `J` x 2 tables. It can accommodate unbalanced designs and unequally spaced exposure levels (doses). With equally spaced exposure levels, a continuity correction is available. <span options="linkspdf">{marker linkspdf}_{nobreak None} {title None:Links to PDF documentation} [Quick start](http://www.stata.com/manuals14/psspowertrendquickstart.pdf) [Remarks and examples](http://www.stata.com/manuals14/psspowertrendremarksandexamples.pdf) [Methods and formulas](http://www.stata.com/manuals14/psspowertrendmethodsandformulas.pdf) {pstd None} The above sections are not included in this help file. <span options="options">{marker options}_{nobreak None} {title None:Options} {dlgtab None:Main} {phang None} `alpha()`, `power()`, `beta()`, `n()`, `nfractional`; see [<strong>[PSS]</strong> power](power##mainopts). {phang None} `npergroup(numlist)` specifies the group size. Only positive integers are allowed. This option implies a balanced design. `npergroup()` cannot be specified with `n()`, `n#()`, or `grweights()`. {phang None} `n#(numlist)` specifies the number of subjects in the `#`th group to be used for power determination. Only positive integers are allowed. All group sizes must be specified. `n#()` cannot be specified with `n()`, `npergroup()`, or `grweights()`. {phang None} `grweights(wgtspec)` specifies `J` group weights for an unbalanced design. The weights may be specified either as a list of values or as a matrix, and multiple sets of weights are allowed; see `wgtspec` for details. The weights must be positive and must also be integers unless the `nfractional` option is specified. `grweights()` cannot be specified with `npergroup()` or `n#()`. {phang None} `exposure(exposspec)` specifies the `J` strictly increasing exposure levels. The default is equally spaced values of 1, 2, ..., `J`. |               |                                      |

`continuity` requests that the continuity correction be applied. This
option can be specified only for equally spaced exposure levels. By
default, no continuity correction is applied.

`onesided`, `parallel`; see
[<strong>[PSS]</strong> power](power##mainopts).

### Table

`table`, `table()`, `notable`; see
[<strong>[PSS]</strong> power, table](http://www.stata.com/help.cgi?power_opttable).

`saving()`; see
[<strong>[PSS] power</strong>](power##saving()).

### Graph

`graph`, `graph()`; see
[<strong>[PSS]</strong> power, graph](http://www.stata.com/help.cgi?power_optgraph).
Also see the
[column](http://www.stata.com/manuals14/psspowertrendsyntaxcolumn.pdf)
table in **\[PSS\] power trend** for a list of symbols used by the
graphs.

### Iteration

`init(#)` specifies the initial value of the sample size for the
sample-size computation for a two-sided test. The default initial value
is the sample size for the corresponding one-sided test.

`iterate()`, `tolerance()`, `ftolerance()`, `log`, `nolog`, `dots`,
`nodots`; see
[<strong>[PSS]</strong> power](power##iteropts).

The following option is available with `power trend` but is not shown in
the dialog box:

`notitle`; see
[<strong>[PSS]</strong> power](power##reportopts).
