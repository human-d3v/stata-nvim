## Syntax

Compute sample size

Specify hazard rates

`power exponential` \[`h1` \[`h2`\]\] \[`, power(numlist)`
`options`\]

Specify survival probabilities

`power exponential s1` \[`s2`\]`, time(#)` \[`power(numlist)`
`options`\]

Compute power

Specify hazard rates

`power exponential` \[`h1` \[`h2`\]\]`, n(numlist)` \[`options`\]

Specify survival probabilities

`power exponential s1` \[`s2`\]`, time(#) n(numlist)`
\[`options`\]

where

`h1` is the hazard rate in the control group;

`h2` is the hazard rate in the experimental group;

`s1` is the survival probability in the control group at reference
(base) time `t`; and

`s2` is the survival probability in the experimental group at reference
(base) time `t`.

`h1`, `h2` and `s1`, `s2` may each be specified either as one number or
as a list of values in parentheses (see
[<strong>numlist</strong>](http://www.stata.com/help.cgi?numlist)).

| options                                                                                                                                                                                                                                                                                                                                                   |                                       | Description                                                                                                                                                                                |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Main                                                                                                                                                                                                                                                                                                                                                      |                                       |                                                                                                                                                                                            |
| \*                                                                                                                                                                                                                                                                                                                                                        | `time(numlist)`                       | reference time `t` for survival probabilities `s1` and `s2`                                                                                                                                |
| \*                                                                                                                                                                                                                                                                                                                                                        | `alpha(numlist)`                      | significance level; default is `alpha(0.05)`                                                                                                                                               |
| \*                                                                                                                                                                                                                                                                                                                                                        | `power(numlist)`                      | power; default is `power(0.8)`                                                                                                                                                             |
| \*                                                                                                                                                                                                                                                                                                                                                        | `beta(numlist)`                       | probability of type II error; default is `beta(0.2)`                                                                                                                                       |
| \*                                                                                                                                                                                                                                                                                                                                                        | `n(numlist)`                          | total sample size; required to compute power                                                                                                                                               |
| \*                                                                                                                                                                                                                                                                                                                                                        | `n1(numlist)`                         | sample size of the control group                                                                                                                                                           |
| \*                                                                                                                                                                                                                                                                                                                                                        | `n2(numlist)`                         | sample size of the experimental group                                                                                                                                                      |
| \*                                                                                                                                                                                                                                                                                                                                                        | `nratio(numlist)`                     | ratio of sample sizes, `N2/N1`; default is `nratio(1)`, meaning equal group sizes                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                           | `nfractional`                         | allow fractional sample sizes                                                                                                                                                              |
| \*                                                                                                                                                                                                                                                                                                                                                        | `hratio(numlist)`                     | hazard ratio (effect size) of the experimental to the control group; default is `hratio(0.5)`; may not be combined with `lnhratio()` or `hdifference()`                                    |
| \*                                                                                                                                                                                                                                                                                                                                                        | `lnhratio(numlist)`                   | log hazard-ratio (effect size) of the experimental to the control group; may not be combined with `hratio()` or `hdifference()`                                                            |
| \*                                                                                                                                                                                                                                                                                                                                                        | `hdifference(numlist)`                | difference between the experimental-group and control-group hazard rates (effect size); may not be combined with `hratio()` or `lnhratio()`                                                |
| \*                                                                                                                                                                                                                                                                                                                                                        | `difference(numlist)`                 | synonym for `hdifference()`                                                                                                                                                                |
| \*                                                                                                                                                                                                                                                                                                                                                        | `loghazard`                           | power or sample-size computation for the test of the difference between log hazards; default is the test of the difference between hazards                                                 |
| \*                                                                                                                                                                                                                                                                                                                                                        | `unconditional`                       | power or sample-size computation using the unconditional approach                                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                           | `effect(effect)`                  | specify the type of effect to display; default is method specific                                                                                                                          |
|                                                                                                                                                                                                                                                                                                                                                           | `onesided`                            | one-sided test; default is two sided                                                                                                                                                       |
|                                                                                                                                                                                                                                                                                                                                                           | `parallel`                            | treat number lists in starred options or in command arguments as parallel when multiple values per option or argument are specified (do not enumerate all possible combinations of values) |
| Accrual/Follow-up                                                                                                                                                                                                                                                                                                                                         |                                       |                                                                                                                                                                                            |
| \*                                                                                                                                                                                                                                                                                                                                                        | `studytime(numlist)`                  | duration of the study; if not specified, the study is assumed to continue until all subjects experience an event (fail)                                                                    |
| \*                                                                                                                                                                                                                                                                                                                                                        | `fperiod(numlist)`                    | length of the follow-up period; if not specified, the study is assumed to continue until all subjects experience an event (fail)                                                           |
| \*                                                                                                                                                                                                                                                                                                                                                        | `aperiod(numlist)`                    | length of the accrual period; default is `aperiod(0)`, meaning no accrual                                                                                                                  |
| \*                                                                                                                                                                                                                                                                                                                                                        | `aprob(numlist)`                      | proportion of subjects accrued by time `ta` under truncated exponential accrual; default is `aprob(0.5)`                                                                                   |
| \*                                                                                                                                                                                                                                                                                                                                                        | `aptime(numlist)`                     | proportion of the accrual period, `ta`/`aperiod()`, by which proportion of subjects in `aprob()` is accrued; default is `aptime(0.5)`                                                      |
| \*                                                                                                                                                                                                                                                                                                                                                        | `atime(numlist)`                      | reference accrual time `ta` by which the proportion of subjects in `aprob()` is accrued; default value is 0.5 x `aperiod()`                                                                |
| \*                                                                                                                                                                                                                                                                                                                                                        | `ashape(numlist)`                     | shape of the truncated exponential accrual distribution; default is `ashape(0)`, meaning uniform accrual                                                                                   |
| \*                                                                                                                                                                                                                                                                                                                                                        | `lossprob(numlist)`                   | proportion of subjects lost to follow-up by time `losstime()` in the control and the experimental groups; default is `lossprob(0)`, meaning no losses to follow-up                         |
| \*                                                                                                                                                                                                                                                                                                                                                        | `lossprob1(numlist)`                  | proportion of subjects lost to follow-up by time `losstime()` in the control group; default is `lossprob1(0)`, meaning no losses to follow-up in the control group                         |
| \*                                                                                                                                                                                                                                                                                                                                                        | `lossprob2(numlist)`                  | proportion of subjects lost to follow-up by time `losstime()` in the experimental group; default is `lossprob2(0)`, meaning no losses to follow-up in the experimental group               |
| \*                                                                                                                                                                                                                                                                                                                                                        | `losstime(numlist)`                   | reference time `tL` by which the proportion of subjects specified in `lossprob()`, `lossprob1()`, or `lossprob2()` is lost to follow-up; default is `losstime(1)`                          |
| \*                                                                                                                                                                                                                                                                                                                                                        | `losshaz(numlist)`                    | loss hazard rates in the control and the experimental groups; default is `losshaz(0)`, meaning no losses to follow-up                                                                      |
| \*                                                                                                                                                                                                                                                                                                                                                        | `losshaz1(numlist)`                   | loss hazard rates in the control group; default is `losshaz1(0)`, meaning no losses to follow-up in the control group                                                                      |
| \*                                                                                                                                                                                                                                                                                                                                                        | `losshaz2(numlist)`                   | loss hazard rates in the experimental group; default is `losshaz2(0)`, meaning no losses to follow-up in the experimental group                                                            |
| Table                                                                                                                                                                                                                                                                                                                                                     |                                       |                                                                                                                                                                                            |
|                                                                                                                                                                                                                                                                                                                                                           | \[`no`\]`table`\[`(tablespec)`\]  | suppress table or display results as a table; see [<strong>[PSS]</strong> power, table](http://www.stata.com/help.cgi?power_opttable)                           |
|                                                                                                                                                                                                                                                                                                                                                           | `saving(filename`\[`, replace`\]`)` | save the table data to `filename`; use `replace` to overwrite existing `filename`                                                                                                          |
| Graph                                                                                                                                                                                                                                                                                                                                                     |                                       |                                                                                                                                                                                            |
|                                                                                                                                                                                                                                                                                                                                                           | `graph`\[`(graphopts)`\]          | graph results; see [<strong>[PSS]</strong> power, graph](http://www.stata.com/help.cgi?power_optgraph)                                                          |
| Reporting                                                                                                                                                                                                                                                                                                                                                 |                                       |                                                                                                                                                                                            |
|                                                                                                                                                                                                                                                                                                                                                           | `show`                                | display group-specific numbers of events and, in the presence of loss to follow-up, numbers of losses                                                                                      |
|                                                                                                                                                                                                                                                                                                                                                           | `show(showspec)`                      | display group-specific numbers of events, numbers of losses, and event probabilities                                                                                                       |
|                                                                                                                                                                                                                                                                                                                                                           | `notitle`                             | suppress the title                                                                                                                                                                         |
| \* Specifying a list of values in at least two starred options, or at least two command arguments, or at least one starred option and one argument results in computations for all possible combinations of the values; see [<strong>numlist</strong>](http://www.stata.com/help.cgi?numlist). Also see the `parallel` option. |                                       |                                                                                                                                                                                            |
| `notitle` does not appear in the dialog box.                                                                                                                                                                                                                                                                                                              |                                       |                                                                                                                                                                                            |

| effect |                 | Description                                                          |
|--------|-----------------|----------------------------------------------------------------------|
|        | `hratio`        | hazard ratio                                                         |
|        | `lnhratio`      | log hazard-ratio                                                     |
|        | `hdifference`   | difference between hazard rates                                      |
|        | `lnhdifference` | difference between log hazard-rates (equivalent to log hazard-ratio) |
|        | `difference`    | synonym for `hdifference`                                            |

| showspec |              | Description         |
|----------|--------------|---------------------|
|          | `events`     | numbers of events   |
|          | `losses`     | numbers of losses   |
|          | `eventprobs` | event probabilities |
|          | `all`        | all the above       |

where `tablespec` is

`column`\[`:label`\] \[`column`\[`:label`\] \[...\]\] \[`,`
`tableopts`\]

`column` is one of the columns defined below, and `label` is a column
label (may contain quotes and compound quotes).

| column                                                                                                                                                                                                                                                                                                                                                                                  |             | Description                                                                              |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------|------------------------------------------------------------------------------------------|
|                                                                                                                                                                                                                                                                                                                                                                                         | `alpha`     | significance level                                                                       |
|                                                                                                                                                                                                                                                                                                                                                                                         | `power`     | power                                                                                    |
|                                                                                                                                                                                                                                                                                                                                                                                         | `beta`      | type II error probability                                                                |
|                                                                                                                                                                                                                                                                                                                                                                                         | `N`         | total number of subjects                                                                 |
|                                                                                                                                                                                                                                                                                                                                                                                         | `N1`        | number of subjects in the control group                                                  |
|                                                                                                                                                                                                                                                                                                                                                                                         | `N2`        | number of subjects in the experimental group                                             |
|                                                                                                                                                                                                                                                                                                                                                                                         | `nratio`    | ratio of sample sizes, experimental to control                                           |
|                                                                                                                                                                                                                                                                                                                                                                                         | `delta`     | effect size                                                                              |
|                                                                                                                                                                                                                                                                                                                                                                                         | `s1`        | survival probability in the control group                                                |
|                                                                                                                                                                                                                                                                                                                                                                                         | `s2`        | survival probability in the experimental group                                           |
|                                                                                                                                                                                                                                                                                                                                                                                         | `time`      | reference survival time                                                                  |
|                                                                                                                                                                                                                                                                                                                                                                                         | `h1`        | hazard rate in the control group                                                         |
|                                                                                                                                                                                                                                                                                                                                                                                         | `h2`        | hazard rate in the experimental group                                                    |
|                                                                                                                                                                                                                                                                                                                                                                                         | `hdiff`     | difference between hazard rates                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                         | `hratio`    | hazard ratio                                                                             |
|                                                                                                                                                                                                                                                                                                                                                                                         | `lnhratio`  | log hazard-ratio                                                                         |
|                                                                                                                                                                                                                                                                                                                                                                                         | `studytime` | duration of a study                                                                      |
|                                                                                                                                                                                                                                                                                                                                                                                         | `fperiod`   | follow-up period                                                                         |
|                                                                                                                                                                                                                                                                                                                                                                                         | `aperiod`   | accrual period                                                                           |
|                                                                                                                                                                                                                                                                                                                                                                                         | `aprob`     | proportion of subjects accrued by time `atime` (or by `aptime` x 100% of accrual period) |
|                                                                                                                                                                                                                                                                                                                                                                                         | `aptime`    | proportion of an accrual period by which `aprob` x 100% of subjects are accrued          |
|                                                                                                                                                                                                                                                                                                                                                                                         | `atime`     | reference accrual time                                                                   |
|                                                                                                                                                                                                                                                                                                                                                                                         | `ashape`    | shape of the accrual distribution                                                        |
|                                                                                                                                                                                                                                                                                                                                                                                         | `E0`        | total number of events under H0                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                         | `E01`       | number of events in the control group under H0                                           |
|                                                                                                                                                                                                                                                                                                                                                                                         | `E02`       | number of events in the experimental group under H0                                      |
|                                                                                                                                                                                                                                                                                                                                                                                         | `Ea`        | total number of events under Ha                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                         | `Ea1`       | number of events in the control group under Ha                                           |
|                                                                                                                                                                                                                                                                                                                                                                                         | `Ea2`       | number of events in the experimental group under Ha                                      |
|                                                                                                                                                                                                                                                                                                                                                                                         | `Pr_E01`    | control-group probability of an event under H0                                           |
|                                                                                                                                                                                                                                                                                                                                                                                         | `Pr_E02`    | experimental-group probability of an event under H0                                      |
|                                                                                                                                                                                                                                                                                                                                                                                         | `Pr_Ea1`    | control-group probability of an event under Ha                                           |
|                                                                                                                                                                                                                                                                                                                                                                                         | `Pr_Ea2`    | experimental-group probability of an event under Ha                                      |
|                                                                                                                                                                                                                                                                                                                                                                                         | `lossprob`  | proportion of subjects lost to follow-up in the control and experimental group           |
|                                                                                                                                                                                                                                                                                                                                                                                         | `lossprob1` | proportion of subjects lost to follow-up in the control group                            |
|                                                                                                                                                                                                                                                                                                                                                                                         | `lossprob2` | proportion of subjects lost to follow-up in the experimental group                       |
|                                                                                                                                                                                                                                                                                                                                                                                         | `losstime`  | reference loss-to-follow-up time                                                         |
|                                                                                                                                                                                                                                                                                                                                                                                         | `losshaz`   | loss hazard rate in the control and experimental groups                                  |
|                                                                                                                                                                                                                                                                                                                                                                                         | `losshaz1`  | loss hazard rate in the control group                                                    |
|                                                                                                                                                                                                                                                                                                                                                                                         | `losshaz2`  | loss hazard rate in the experimental group                                               |
|                                                                                                                                                                                                                                                                                                                                                                                         | `L0`        | total number of losses under H0                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                         | `L01`       | number of losses in the control group under H0                                           |
|                                                                                                                                                                                                                                                                                                                                                                                         | `L02`       | number of losses in the experimental group under H0                                      |
|                                                                                                                                                                                                                                                                                                                                                                                         | `La`        | total number of losses under Ha                                                          |
|                                                                                                                                                                                                                                                                                                                                                                                         | `La1`       | number of losses in the control group under Ha                                           |
|                                                                                                                                                                                                                                                                                                                                                                                         | `La2`       | number of losses in the experimental group under Ha                                      |
|                                                                                                                                                                                                                                                                                                                                                                                         | `target`    | target parameter; synonym for `h2` or `hratio`                                           |
|                                                                                                                                                                                                                                                                                                                                                                                         | `_all`      | display all supported columns                                                            |
| Column `beta` is shown in the default table in place of column `power` if option `beta()` is specified.                                                                                                                                                                                                                                                                                 |             |                                                                                          |
| Column `hratio` is shown in the default table if option `hratio()` is specified or implied by the command.                                                                                                                                                                                                                                                                              |             |                                                                                          |
| Columns `nratio` and `lnhratio` are shown in the default table if the corresponding options are specified.                                                                                                                                                                                                                                                                              |             |                                                                                          |
| Columns `h1`, `h2`, `s1`, and `s2` are available and are shown in the default table when the corresponding command arguments are specified.                                                                                                                                                                                                                                             |             |                                                                                          |
| Columns `time`, `studytime`, `fperiod`, `aperiod`, `aprob`, `aptime`, `atime`, `ashape`, `losshaz`, `losshaz1`, `losshaz2`, `lossprob`, `lossprob1`, `lossprob2`, and `losstime` are available and are shown in the default table when the corresponding options are specified.                                                                                                         |             |                                                                                          |
| Columns containing numbers of events, numbers of losses, and probabilities of an event are displayed if specified or if respective options `show(events)`, `show(losses)`, or `show(eventprobs)` are specified. If `show` is specified, numbers of events and losses are displayed. If `show(all)` is specified, numbers of events, numbers of losses, and probabilities are displayed. |             |                                                                                          |
