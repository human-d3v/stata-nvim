## Syntax

Perform nonparametric analysis of ROC curve under covariates, using
bootstrap

`rocreg refvar classvar` \[`classvars`\] <span
class="command">\[`if`\] \[`in`\]_ \[`, np_options`\]

Perform parametric analysis of ROC curve under covariates, using
bootstrap

`rocreg refvar classvar` \[`classvars`\] <span
class="command">\[`if`\] \[`in`\]_ `, probit` \[`probit_options`\]

Perform parametric analysis of ROC curve under covariates, using maximum
likelihood

`rocreg refvar classvar` \[`classvars`\] <span
class="command">\[`if`\] \[`in`\]_ \[`weight`\] `, probit ml`
\[`probit_ml_options`\]

| np\_options |                                   | Description                                                                                     |
|-------------|-----------------------------------|-------------------------------------------------------------------------------------------------|
| Model       |                                   |                                                                                                 |
|             | `auc`                             | estimate total area under the ROC curve; the default                                            |
|             | `roc(numlist)`                | estimate ROC for given false-positive rates                                                     |
|             | `invroc(numlist)`             | estimate false-positive rates for given ROC values                                              |
|             | `pauc(numlist)`               | estimate partial area under the ROC curve (pAUC) up to each false-positive rate                 |
|             | `cluster(varname)`                | variable identifying resampling clusters                                                        |
|             | `ctrlcov(varlist)`                | adjust control distribution for covariates in `varlist`                                         |
|             | `ctrlmodel`(`strata` \| `linear`) | stratify or regress on covariates; default is `ctrlmodel(strata)`                               |
|             | `pvc(empirical` \| `normal)`  | use empirical or normal distribution percentile value estimates; default is `pvc(empirical)`    |
|             | `tiecorrected`                    | adjust for tied observations; not allowed with `pvc(normal)`                                    |
| Bootstrap   |                                   |                                                                                                 |
|             | `nobootstrap`                     | do not perform bootstrap, just output point estimates                                           |
|             | `bseed(#)`                        | random-number seed for bootstrap                                                                |
|             | `breps(#)`                        | number of bootstrap replications; default is `breps(1000)`                                      |
|             | `bootcc`                          | perform case-control (stratified on `refvar`) sampling rather than cohort sampling in bootstrap |
|             | `nobstrata`                       | ignore covariate stratification in bootstrap sampling                                           |
|             | `nodots`                          | suppress bootstrap replication dots                                                             |
| Reporting   |                                   |                                                                                                 |
|             | `level(#)`                        | set confidence level; default is `level(95)`                                                    |

| probit\_options                                                                                                                                                                                                                                                                                               |                                   | Description                                                                                     |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------|-------------------------------------------------------------------------------------------------|
| Model                                                                                                                                                                                                                                                                                                         |                                   |                                                                                                 |
| \*                                                                                                                                                                                                                                                                                                            | `probit`                          | fit the probit model                                                                            |
|                                                                                                                                                                                                                                                                                                               | `roccov(varlist)`                 | covariates affecting ROC curve                                                                  |
|                                                                                                                                                                                                                                                                                                               | `fprpts(#)`                       | number of false-positive rate points to use in fitting ROC curve; default is `fprpts(10)`       |
|                                                                                                                                                                                                                                                                                                               | `ctrlfprall`                      | fit ROC curve at each false-positive rate in control population                                 |
|                                                                                                                                                                                                                                                                                                               | `cluster(varname)`                | variable identifying resampling clusters                                                        |
|                                                                                                                                                                                                                                                                                                               | `ctrlcov(varlist)`                | adjust control distribution for covariates in `varlist`                                         |
|                                                                                                                                                                                                                                                                                                               | `ctrlmodel`(`strata` \| `linear`) | stratify or regress on covariates; default is `ctrlmodel(strata)`                               |
|                                                                                                                                                                                                                                                                                                               | `pvc(empirical` \| `normal)`  | use empirical or normal distribution percentile value estimates; default is `pvc(empirical)`    |
|                                                                                                                                                                                                                                                                                                               | `tiecorrected`                    | adjust for tied observations; not allowed with `pvc(normal)`                                    |
| Bootstrap                                                                                                                                                                                                                                                                                                     |                                   |                                                                                                 |
|                                                                                                                                                                                                                                                                                                               | `nobootstrap`                     | do not perform bootstrap, just output point estimates                                           |
|                                                                                                                                                                                                                                                                                                               | `bseed(#)`                        | random-number seed for bootstrap                                                                |
|                                                                                                                                                                                                                                                                                                               | `breps(#)`                        | number of bootstrap replications; default is `breps(1000)`                                      |
|                                                                                                                                                                                                                                                                                                               | `bootcc`                          | perform case-control (stratified on `refvar`) sampling rather than cohort sampling in bootstrap |
|                                                                                                                                                                                                                                                                                                               | `nobstrata`                       | ignore covariate stratification in bootstrap sampling                                           |
|                                                                                                                                                                                                                                                                                                               | `nodots`                          | suppress bootstrap replication dots                                                             |
|                                                                                                                                                                                                                                                                                                               | `bsave(filename,` ...`)`      | save bootstrap replicates from parametric estimation                                            |
|                                                                                                                                                                                                                                                                                                               | `bfile(filename)`                 | use bootstrap replicates dataset for estimation replay                                          |
| Reporting                                                                                                                                                                                                                                                                                                     |                                   |                                                                                                 |
|                                                                                                                                                                                                                                                                                                               | `level(#)`                        | set confidence level; default is `level(95)`                                                    |
| \*                                                                                                                                                                                                                                                                                                            | `ml`                              | fit the probit model by maximum likelihood estimation                                           |
|                                                                                                                                                                                                                                                                                                               | `roccov(varlist)`                 | covariates affecting ROC curve                                                                  |
|                                                                                                                                                                                                                                                                                                               | `cluster(varname)`                | variable identifying clusters                                                                   |
|                                                                                                                                                                                                                                                                                                               | `ctrlcov(varlist)`                | adjust control distribution for covariates in `varlist`                                         |
| Reporting                                                                                                                                                                                                                                                                                                     |                                   |                                                                                                 |
|                                                                                                                                                                                                                                                                                                               | `level(#)`                        | set confidence level; default is `level(95)`                                                    |
|                                                                                                                                                                                                                                                                                                               | `display_options`                 | control column formats, line width, and display of omitted variables                            |
| Maximization                                                                                                                                                                                                                                                                                                  |                                   |                                                                                                 |
|                                                                                                                                                                                                                                                                                                               | `maximize_options`                | control the maximization process; seldom used                                                   |
| \* `probit` is required. <span options="probit_ml_options">{marker probit\_ml\_options}_{nobreak None} <span options="30 tabbed">{synoptset 30 tabbed}_{nobreak None} {synopthdr None:probit\_ml\_options} {synoptline None} {syntab None:Model} {p2coldent None:\* }`probit`fit the probit model |                                   |                                                                                                 |
| \* `probit` and `ml` are required.                                                                                                                                                                                                                                                                            |                                   |                                                                                                 |
| `fweight`s, `iweight`s, and `pweight`s are allowed with maximum likelihood estimation; see [<strong>weight</strong>](http://www.stata.com/help.cgi?weight).                                                                                                                        |                                   |                                                                                                 |

See
[<strong>[R]</strong> rocreg postestimation](http://www.stata.com/help.cgi?rocreg_postestimation)
for features available after estimation.
