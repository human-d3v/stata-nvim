## Syntax

`histogram`
[varname](http://www.stata.com/help.cgi?varname)
_\[`if`\] \[`in`\]_ \[`weight`\] \[`,`
\[`continuous_opts` | `discrete_opts`\]
`options`\]

| continuous\_opts |            | Description                         |
|------------------|------------|-------------------------------------|
| Main             |            |                                     |
|                  | `bin(#)`   | set number of bins to `#`           |
|                  | `width(#)` | set width of bins to `#`            |
|                  | `start(#)` | set lower limit of first bin to `#` |

| discrete\_opts |            | Description                          |
|----------------|------------|--------------------------------------|
| Main           |            |                                      |
|                | `discrete` | specify that data are discrete       |
|                | `width(#)` | set width of bins to `#`             |
|                | `start(#)` | set theoretical minimum value to `#` |

| Options       |                                    | Description                                    |
|---------------|------------------------------------|------------------------------------------------|
| Main          |                                    |                                                |
|               | `density`                          | draw as density; the default                   |
|               | `fraction`                         | draw as fractions                              |
|               | `frequency`                        | draw as frequencies                            |
|               | `percent`                          | draw as percentages                            |
|               | `bar_options`                      | rendition of bars                              |
|               | `binrescale`                       | recalculate bin sizes when `by()` is specified |
|               | `addlabels`                        | add height labels to bars                      |
|               | `addlabopts(marker_label_options)` | affect rendition of labels                     |
| Density plots |                                    |                                                |
|               | `normal`                           | add a normal density to the graph              |
|               | `normopts(line_options)`           | affect rendition of normal density             |
|               | `kdensity`                         | add a kernel density estimate to the graph     |
|               | `kdenopts(kdensity_options)`       | affect rendition of kernel density             |

<table class="syntab">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="odd section">
<td colspan="3">Add plots</td>
</tr>
<tr class="even">
<td class="normal"></td>
<td><code class="command" data-options="&quot;addplot(addplot_option:plot)&quot;">"addplot(plot)</code></td>
<td>add other plots to the histogram <span>{syntab None:Y axis, X axis, Titles, Legend, Overall, By}_ <span>{synopt None}<var class="command">twoway_options</var>_any options documented in [<strong>[G-3]</strong> <em>twoway_options</em>](http://www.stata.com/help.cgi?twoway_options)</td>
</tr>
</tbody><tfoot>
<tr class="even footnote">
<td colspan="3"><code class="command">fweight</code>s are allowed; see [<strong>weight</strong>](http://www.stata.com/help.cgi?weight). <span data-options="menu">{marker menu}_<span>{nobreak None}_ <span>{title None:Menu}_ <span>{phang None}_ <strong>Graphics &gt; Histogram</strong> <span data-options="description">{marker description}_<span>{nobreak None}_ <span>{title None:Description}_ <span>{pstd None}_ <code class="command">histogram</code> draws histograms of [varname](http://www.stata.com/help.cgi?varname), which is assumed to be the name of a continuous variable unless the <code class="command" data-options="discrete">discrete</code> option is specified. <span>{pstd None}_ <code class="command">hist</code> is a synonym for <code class="command">histogram</code>. <span data-options="linkspdf">{marker linkspdf}_<span>{nobreak None}_ <span>{title None:Links to PDF documentation}_ [varname](http://www.stata.com/manuals14/rhistogramquickstart.pdf">Quick start</a> <a href="http://www.stata.com/manuals14/rhistogramremarksandexamples.pdf">Remarks and examples</a> <span>{pstd None}_ The above sections are not included in this help file. <span data-options="options_continuous">{marker options_continuous}_<span>{nobreak None}_ <span>{title None:Options for use in the continuous case}_ <span>{dlgtab None:Main}_ <span>{phang None}_ <code class="command" data-options="bin(#)">bin(#)</code> and <code class="command" data-options="width(#)">width(#)</code> are alternatives. They specify how the data are to be aggregated into bins: <code class="command" data-options="bin()">bin()</code> by specifying the number of bins (from which the width can be derived) and <code class="command" data-options="width()">width()</code> by specifying the bin width (from which the number of bins can be derived). <span>{pmore None}_ If neither option is specified, results are the same as if <code class="command" data-options="bin(k)">bin(k)</code> had been specified, where <span>{phang3 None}_ <var class="command">k</var> = min<span data-options="-(">{c -(}_sqrt(<var class="command">N</var>), 10*ln(<var class="command">N</var>)/ln(10)<span data-options=")-">{c )-}_ <span>{pmore None}_ and where <var class="command">N</var> is the (weighted) number of observations. <span>{phang None}_ <code class="command" data-options="start(#)">start(#)</code> specifies the theoretical minimum of <a href="http://www.stata.com/help.cgi?varname). The default is <code class="command" data-options="start(m)">start(m)</code>, where <var class="command">m</var> is the observed minimum value of <var class="command">varname</var>. <span>{pmore None}_ Specify <code class="command" data-options="start()">start()</code> when you are concerned about sparse data, for instance, if you know that <var class="command">varname</var> can have a value of 0, but you are concerned that 0 may not be observed. <span>{pmore None}_ <code class="command" data-options="start(#)">start(#)</code>, if specified, must be less than or equal to <var class="command">m</var>, or else an error will be issued. <span data-options="options_discrete">{marker options_discrete}_<span>{nobreak None}_ <span>{title None:Options for use in the discrete case}_ <span>{dlgtab None:Main}_ <span>{phang None}_ <code class="command" data-options="discrete">discrete</code> specifies that [varname](http://www.stata.com/help.cgi?varname) is discrete and that you want each unique value of <var class="command">varname</var> to have its own bin (bar of histogram). <span>{phang None}_ <code class="command" data-options="width(#)">width(#)</code> is rarely specified in the discrete case; it specifies the width of the bins. The default is <code class="command" data-options="width(d)">width(d)</code>, where <var class="command">d</var> is the observed minimum difference between the unique values of <var class="command">varname</var>. <span>{pmore None}_ Specify <code class="command" data-options="width()">width()</code> if you are concerned that your data are sparse. For example, in theory <var class="command">varname</var> could take on the values, say, 1, 2, 3, ..., 9, but because of the sparseness, perhaps only the values 2, 4, 7, and 8 are observed. Here the default width calculation would produce <code class="command">width(2)</code>, and you would want to specify <code class="command">width(1)</code>. <span>{phang None}_ <code class="command" data-options="start(#)">start(#)</code> is also rarely specified in the discrete case; it specifies the theoretical minimum value of [varname](http://www.stata.com/help.cgi?varname). The default is <code class="command" data-options="start(m)">start(m)</code>, where <var class="command">m</var> is the observed minimum value. <span>{pmore None}_ As with <code class="command" data-options="width()">width()</code>, specify <code class="command" data-options="start(#)">start(#)</code> if you are concerned that your data are sparse. In the previous example, you might also want to specify <code class="command">start(1)</code>. <code class="command" data-options="start()">start()</code> does nothing more than add white space to the left side of the graph. <span>{pmore None}_ The value of <var class="command">#</var> in <code class="command" data-options="start()">start()</code> must be less than or equal to <var class="command">m</var>, or an error will be issued. <span data-options="options_both">{marker options_both}_<span>{nobreak None}_ <span>{title None:Options for use in the continuous and discrete cases}_ <span>{dlgtab None:Main}_ <span>{phang None}_ <code class="command" data-options="density">density</code>, <code class="command" data-options="fraction">fraction</code>, <code class="command" data-options="frequency">frequency</code>, and <code class="command" data-options="percent">percent</code> specify whether you want the histogram scaled to density units, fractional units, frequencies, or percentages. <code class="command" data-options="density">density</code> is the default. <span>{pmore None}_ <code class="command" data-options="density">density</code> scales the height of the bars so that the sum of their areas equals 1. <span>{pmore None}_ <code class="command" data-options="fraction">fraction</code> scales the height of the bars so that the sum of their heights equals 1. <span>{pmore None}_ <code class="command" data-options="frequency">frequency</code> scales the height of the bars so that each bar's height is equal to the number of observations in the category. Thus the sum of the heights is equal to the total number of observations. <span>{pmore None}_ <code class="command" data-options="percent">percent</code> scales the height of the bars so that the sum of their heights equals 100. <span>{phang None}_ <var class="command">bar_options</var> are any of the options allowed by <code class="command">graph</code> <code class="command">twoway</code> <code class="command">bar</code>; see [<strong>[G-2]</strong> graph twoway bar](http://www.stata.com/help.cgi?twoway_bar). <span>{pmore None}_ One of the most useful <var class="command">bar_options</var> is <code class="command" data-options="barwidth(#)">barwidth(#)</code>, which specifies the width of the bars in [varname](http://www.stata.com/help.cgi?varname) units. By default, <code class="command">histogram</code> draws the bars so that adjacent bars just touch. If you want gaps between the bars, do not specify <code class="command">histogram</code>'s <code class="command" data-options="width()">width()</code> option -- which would change how the histogram is calculated -- but specify the <var class="command">bar_option</var> <code class="command" data-options="barwidth()">barwidth()</code> or the <code class="command">histogram</code> option <code class="command" data-options="gap">gap</code>, both of which affect only how the bar is rendered. <span>{pmore None}_ The <var class="command">bar_option</var> <code class="command" data-options="horizontal">horizontal</code> cannot be used with the <code class="command">addlabels</code> option. <span>{phang None}_ <code class="command" data-options="binrescale">binrescale</code> specifies that bin size and plot range be recalculated for each group when <code class="command">by()</code> is specified. If <code class="command">normal</code> is specified, the mean and standard deviation of each overlaid normal density plot are recalculated in each group. Similarly, if <code class="command">kdensity</code> is specified, the scaling of the overlaid kernel density plot is recalculated in each group. <span>{phang None}_ <code class="command" data-options="addlabels">addlabels</code> specifies that the top of each bar be labeled with the density, fraction, or frequency, as determined by the <code class="command" data-options="density">density</code>, <code class="command" data-options="fraction">fraction</code>, and <code class="command" data-options="frequency">frequency</code> options. <span>{phang None}_ <code class="command" data-options="addlabopts(marker_label_options)">addlabopts(marker_label_options)</code> specifies how to render the labels atop the bars. See [<strong>[G-3]</strong> <em>marker_label_options</em>](http://www.stata.com/help.cgi?marker_label_options). Do not specify the <var class="command">marker_label_option</var> <code class="command" data-options="mlabel(varname)">mlabel(varname)</code>, which specifies the variable to be used; this is specified for you by <code class="command">histogram</code>. <span>{pmore None}_ <code class="command" data-options="addlabopts()">addlabopts()</code> will accept more options than those documented in [<strong>[G-3]</strong> <em>marker_label_options</em>](http://www.stata.com/help.cgi?marker_label_options). All options allowed by <code class="command">twoway scatter</code> are also allowed by <code class="command" data-options="addlabopts()">addlabopts()</code>; see [<strong>[G-2]</strong> graph twoway scatter](http://www.stata.com/help.cgi?scatter). One particularly useful option is <code class="command" data-options="yvarformat()">yvarformat()</code>; see [<strong>[G-3]</strong> <em>advanced_options</em>](http://www.stata.com/help.cgi?advanced_options). <span>{dlgtab None:Density plots}_ <span>{phang None}_ <code class="command" data-options="normal">normal</code> specifies that the histogram be overlaid with an appropriately scaled normal density. The normal will have the same mean and standard deviation as the data. <span>{phang None}_ <code class="command" data-options="normopts(line_options)">normopts(line_options)</code> specifies details about the rendition of the normal curve, such as the color and style of line used. See [<strong>[G-2]</strong> graph twoway line](http://www.stata.com/help.cgi?twoway_line). <span>{phang None}_ <code class="command" data-options="kdensity">kdensity</code> specifies that the histogram be overlaid with an appropriately scaled kernel density estimate of the density. By default, the estimate will be produced using the Epanechnikov kernel with an "optimal" half-width. This default corresponds to the default of <code class="command" data-options="kdensity">kdensity</code>; see [<strong>[R]</strong> kdensity](http://www.stata.com/help.cgi?kdensity). How the estimate is produced can be controlled using the <code class="command" data-options="kdenopts()">kdenopts()</code> option described below. <span>{phang None}_ <code class="command" data-options="kdenopts(kdensity_options)">kdenopts(kdensity_options)</code> specifies details about how the kernel density estimate is to be produced along with details about the rendition of the resulting curve, such as the color and style of line used. The kernel density estimate is described in [<strong>[G-2] graph twoway kdensity</strong>](http://www.stata.com/help.cgi?twoway%20kdensity). As an example, if you wanted to produce kernel density estimates by using the Gaussian kernel with optimal half-width, you would specify <code class="command">kdenopts(gauss)</code> and if you also wanted a half-width of 5, you would specify <code class="command">kdenopts(gauss width(5))</code>. <span>{dlgtab None:Add plots}_ <span>{phang None}_ <code class="command" data-options="addplot(plot)">addplot(plot)</code> allows adding more <code class="command" data-options="graph">graph</code> <code class="command" data-options="twoway">twoway</code> plots to the graph; see [<strong>[G-3]</strong> <em>addplot_option</em>](http://www.stata.com/help.cgi?addplot_option). <span>{dlgtab None:Y axis, X axis, Titles, Legend, Overall, By}_ <span>{phang None}_ <var class="command">twoway_options</var> are any of the options documented in [<strong>[G-3]</strong> <em>twoway_options</em>](http://www.stata.com/help.cgi?twoway_options). This includes, most importantly, options for titling the graph (see [<strong>[G-3]</strong> <em>title_options</em>](http://www.stata.com/help.cgi?title_options)), options for saving the graph to disk (see [<strong>[G-3]</strong> <em>saving_option</em>](http://www.stata.com/help.cgi?saving_option)), and the <code class="command" data-options="by()">by()</code> option, which will allow you to simultaneously graph histograms for different subsets of the data (see [<strong>[G-3]</strong> <em>by_option</em>](http://www.stata.com/help.cgi?by_option)). <span data-options="remarks">{marker remarks}_<span>{nobreak None}_ <span>{title None:Remarks}_
Remarks are presented under the following headings: [<strong>Histograms of continuous variables</strong>](#remarks1) [<strong>Overlaying normal and kernel-density estimates</strong>](#remarks2) [<strong>Histograms of discrete variables</strong>](#remarks3) [<strong>Use with by()</strong>](#remarks4) [<strong>Video example</strong>](#remarks5) <span>{pstd None}_ For an example of editing a histogram with the Graph Editor, see [<strong>Pollock (2011, 29-31)</strong>](#P2011). <span data-options="remarks1">{marker remarks1}_<span>{nobreak None}_ <span>{title None:Histograms of continuous variables}_ <span>{pstd None}_ <code class="command">histogram</code> assumes the variable is continuous, so you need type only <code class="command">histogram</code> followed by the variable name: <code class="command">. sysuse sp500</code> <code class="command">. histogram volume</code> <var class="command">(. gr_example sp500: histogram volume)</var> <span>{pstd None}_ Note the small values reported for density on the <var class="command">y</var> axis. They are correct; if you added up the area of the bars, you would get 1. Nevertheless, many people are used to seeing histograms scaled so that the bar heights sum to 1, <code class="command">. histogram volume, fraction</code> <var class="command">(. gr_example sp500: histogram volume, fraction)</var> <span>{pstd None}_ and others are used to seeing histograms so that the bar height reflects the number of observations: <code class="command">. histogram volume, frequency</code> <var class="command">(. gr_example sp500: histogram volume, frequency)</var> <span>{pstd None}_ Regardless of the scale you prefer, we can specify other options to make the graph look more impressive: <span>{cmd None}_. summarize volume <span>{txt None}_ Variable <span data-options="|">{c |}_ Obs Mean Std. Dev. Min Max <span data-options="13">_<span data-options="+">{c +}_<span data-options="56">_ volume <span data-options="|">{c |}_<span>{res None}_ 248 12320.68 2585.929 4103 23308.3 <span>{txt None}_ <span>{cmd None}_. histogram volume, freq xaxis(1 2) ylabel(0(10)60, grid) xlabel(12321 "mean" 9735 "-1 s.d." 14907 "+1 s.d." 7149 "-2 s.d." 17493 "+2 s.d." 20078 "+3 s.d." 22664 "+4 s.d." , axis(2) grid gmax) xtitle("", axis(2)) subtitle("S&amp;P 500, January 2001 - December 2001") note("Source: Yahoo!Finance and Commodity Systems, Inc.")<span>{txt None}_ <var class="command">(. gr_example2 hist1)</var> <span>{pstd None}_ For an explanation of the <code class="command" data-options="xaxis()">xaxis()</code> option -- it created the upper and lower <var class="command">x</var> axis -- see [<strong>[G-3]</strong> <em>axis_choice_options</em>](http://www.stata.com/help.cgi?axis_choice_options). For an explanation of the <code class="command" data-options="ylabel()">ylabel()</code> and <code class="command" data-options="xlabel()">xlabel()</code> options, see [<strong>[G-3]</strong> <em>axis_label_options</em>](http://www.stata.com/help.cgi?axis_label_options). For an explanation of the <code class="command">subtitle()</code> and <code class="command">note()</code> options, see [<strong>[G-3]</strong> <em>title_options</em>](http://www.stata.com/help.cgi?title_options). <span data-options="remarks2">{marker remarks2}_<span>{nobreak None}_ <span>{title None:Overlaying normal and kernel-density estimates}_ <span>{phang None}_ Specifying <code class="command" data-options="normal">normal</code> will overlay a normal density over the histogram. It would be enough to type <span>{cmd None}_. histogram volume, normal<span>{txt None}_ <span>{phang None}_ but we will add the option to our more impressive rendition: <span>{cmd None}_. histogram volume, freq normal xaxis(1 2) ylabel(0(10)60, grid) xlabel(12321 "mean" 9735 "-1 s.d." 14907 "+1 s.d." 7149 "-2 s.d." 17493 "+2 s.d." 20078 "+3 s.d." 22664 "+4 s.d." , axis(2) grid gmax) xtitle("", axis(2)) subtitle("S&amp;P 500, January 2001 - December 2001") note("Source: Yahoo!Finance and Commodity Systems, Inc.")<span>{txt None}_ <var class="command">(. gr_example2 hist2)</var> <span>{pstd None}_ If we instead wanted to overlay a kernel-density estimate, we could specify <code class="command">kdensity</code> in place of <code class="command">normal</code>. <span data-options="remarks3">{marker remarks3}_<span>{nobreak None}_ <span>{title None:Histograms of discrete variables}_ <span>{pstd None}_ Specify <code class="command">histogram</code>'s discrete option when you wish the data treated as being discrete -- when you wish each unique value of the variable assigned its own bin. For instance, in the automobile data, <code class="command">mpg</code> is a continuous variable, but the mileage ratings have been measured to integer precision. Were we to type <code class="command">. sysuse auto</code> <code class="command">. histogram mpg</code> <span>{pstd None}_ <code class="command">mpg</code> would be treated as continuous and categorized into eight bins by the default number-of-bins calculation, which is based on the number of observations, of which we have 74. <span>{pstd None}_ Adding the <code class="command" data-options="discrete">discrete</code> option makes a histogram with a bin for each of the 21 unique values: <code class="command">. histogram mpg, discrete</code> <var class="command">(. gr_example auto: histogram mpg, discrete)</var> <span>{pstd None}_ Just as in the continuous case, the <var class="command">y</var> axis was reported in terms of density and we could specify the <code class="command">fraction</code> or <code class="command">frequency</code> options if we wanted it reported differently. Below we specify <code class="command">frequency</code>, we specify <code class="command">addlabels</code> to add a report of frequencies printed above the bars, we specify <code class="command">ylabel(,grid)</code> to add horizontal grid lines, and we specify <code class="command">xlabel(12(2)42)</code> to label the values 12, 14, ..., 42 on the <var class="command">x</var> axis: <code class="command">. histogram mpg, discrete freq addlabels ylabel(,grid) xlabel(12(2)42)</code> <var class="command">(. gr_example auto: histogram mpg, discrete freq addlabels ylabel(,grid) xlabel(12(2)42))</var> <span data-options="remarks4">{marker remarks4}_<span>{nobreak None}_ <span>{title None:Use with by()}_ <span>{pstd None}_ <code class="command">histogram</code> may be used with <code class="command" data-options="graph">graph</code> <code class="command" data-options="twoway">twoway</code>'s <code class="command" data-options="by()">by()</code>; for example, <code class="command">. sysuse auto</code> <code class="command">. histogram mpg, discrete by(foreign)</code> <var class="command">(. gr_example auto: histogram mpg, discrete by(foreign))</var> <span>{pstd None}_ Here results would be easier to compare if the graphs were presented in one column: <code class="command">. histogram mpg, discrete by(foreign, col(1))</code> <var class="command">(. gr_example auto: histogram mpg, discrete by(foreign, col(1)))</var> <span>{pstd None}_ <code class="command">col(1)</code> is a <code class="command">by()</code> suboption -- see [<strong>[G-3]</strong> <em>by_option</em>](http://www.stata.com/help.cgi?by_option) -- and there are other useful suboptions, such as <code class="command" data-options="total">total</code>, which will add an overall total histogram. <code class="command" data-options="total">total</code> is a suboption of <code class="command" data-options="by()">by()</code>, not an option of <code class="command">histogram</code>, so you would type <code class="command">. histogram mpg, discrete by(foreign, total)</code> <span>{pstd None}_ and not "<code class="command">histogram mpg, discrete by(foreign) total</code>". <span>{pstd None}_ As another example, Lipset (1993) reprinted data from the <var class="command">New York Times</var>, November 5, 1992, of data collected by the Voter Research and Surveys based on questionnaires completed by 15,490 U.S. presidential voters from 300 polling places on election day in 1992. <span>{phang2 None}_<code class="command">. sysuse voter</code></td>
</tr>
<tr class="odd footnote">
<td colspan="3"><code class="command">. histogram candi [freq=pop], discrete fraction by(inc, total) gap(40) xlabel(2 3 4, valuelabel)</code></td>
</tr>
<tr class="even footnote">
<td colspan="3"><var class="command">(. gr_example voter:histogram candi [freq=pop], discrete fraction by(inc, total) barwidth(.6) xlabel(2 3 4, valuelabel))</var> <span>{pstd None}_ We specified <code class="command">gap(40)</code> to reduce the width of the bars by 40%. Also note our use of the <code class="command" data-options="xlabel()">xlabel()</code>'s <code class="command" data-options="valuelabel">valuelabel</code> suboption, which caused our bars to be labeled Clinton, Bush, and Perot rather than 2, 3, and 4; see [<strong>[G-3]</strong> <em>axis_label_options</em>](http://www.stata.com/help.cgi?axis_label_options).</td>
</tr>
</tfoot>

</table>
